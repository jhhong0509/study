# 어떤 부분을 리팩토링 해야 하는가

### 목적

궁극적인 목표는 결국 코드 내의 악취(`Code-smell`)라 불리는 기이한 코드를 찾아 없애는 과정이다.




### 기이한 이름 (Mysterious Name)

함수, 모듈, 변수 등의 이름이 명료하지 않다면 고칠 필요가 있다.

단순히 이름만 바꾸더라도 훨씬 코드의 가독성이 좋아진다.



### 중복 코드 (Dupplicated Code)

중복된 코드는 하나의 함수 등으로 통합시켜 주는게 훨씬 가독성도 좋고 코드가 깔끔해 진다.



### 긴 함수 (Long Function)

함수의 내용이 너무 길게 되면, 해당 함수를 이해하는게 힘들어 진다.

그렇기 때문에 함수는 이름을 잘 짓는 것도 중요하지만, 끊임없이 위임해서 하나의 함수에는 짧은 코드만 넣도록 해야한다.



### 긴 매개변수 (Long Parameter List)

단순히 매개변수가 길게 늘어진 것 만으로도 이해가 힘들때가 많다.



### 전역 데이터 (Global Data)

전역 데이터는 언제, 누가, 어디서 접근했는지 알기 힘들어서 오류의 원인이 되기 쉽다.

캡슐화를 통해 접근 범위를 최소한으로 하는게 좋다.



### 가변 데이터 (Mutable Data)

가변 데이터는 유효 범위가 커질수록 문제가 생기기 쉽다.

그렇기 때문에 항상 제한을 걸어두는게 좋다.



### 뒤엉킨 변경 (Divergent Change)

하나의 코드가 여러 이유로 인해 변경되는 경우의 문제이다.

하나의 함수가 하나의 역할을 가지지 않아서 발생한다.

> 단일 책임의 원칙(SRP)라고 한다.



### 산탄총 수술 (Shotgun Surgery)

코드를 수정할 때 여러 코드를 같이 수정해야 하는 경우 발생한다.

위와 같이 단일 책임의 원칙이 잘 지켜지지 않아서 그렇다.



### 기능 편애 (Feature Envy)

다른 모듈의 함수/데이터와 더 많이 상호작용 하고 있다면, 모듈의 위치 변경을 고려해야 한다.



### 데이터 뭉치 (Data Clumps)

자주 사용되는 데이터들은 별도의 의미가 있는 경우가 많다.

하나의 오브젝트로 묶어주는편이 좋다.



### 기본형 집착 (Primitive Obsession)

객체를 따로 만들기 귀찮아 기본형만 사용하는 경우가 있다.

기본형에 집착하지 않고 귀찮아도 객체를 생성하는게 좋다.



### 스위치문 반복 (Repeated Switches)

중복되는 스위치를 사용할 경우, 조건이 바뀌면 모든 스위치문을 변경해 주어야 한다.



### 반복문 (Loops)

파이프라인 사용을 권장한다.



### 쓸모 없는 요소 (Lazy Element)

쓸모 없는 함수, 변수 등은 지워주는게 좋다.



### 추측성 일반화 (Speculative Generally)

나중에 작업하기 위해서 미리 만들어둔 코드들은 지워주는게 좋다.



### 임시 필드 (Temporary Field)

특정 상황에서만 값이 존재하는 필드는 존재 이유를 파악하기 어렵다.

필드의 위치를 변경하는게 좋다.



### 메세지 체인 (Message Chain)

객체 요청이 꼬리에 꼬리를 무는 코드는 객체 네비게이션에 종속된걸 의미한다.

함수화로 객체 체이닝을 숨기는게 좋다.



### 중재자 (Middle Man)

단순히 중재자 역할만  하는 함수는 쓸모없는 경우가 많다.

불필요하면 지우는게 좋다.



### 내부자 거래 (Insider Trading)

모듈간 데이터 조회가 많다면 결합도가 높다는 의미다.

결합도를 최소한으로 하기 위해  모듈간 데이터 조회를 줄이는게 좋다.



### 거대한 클래스 (Large Class)

클래스에 필드가 많으면 복잡해 지고, 각각 클래스로 나누는것도 복잡하다.

최대한 중복을 줄이는 선에서 클래스로 나누자.



### 서로 다른 인터페이스의 대안 클래스들 (Alternative Classes with Different Interfaces)

클래스의 장점 중 하나는 교체가 가능하다는 것이다.

교체가 용이하도록 인터페이스 선언을 잘 해주어야 한다.



### 데이터 클래스 (Data Class)

필드와 getter/setter로만 이루어진 데이터 클래스는 캡슐화를 잘 해주어야 한다.



### 상속 포기 (Refused Bequest)

부모의 메소드 혹은 필드가 필요 없을 수 있다.

구현을 따르지 않을순 있지만, 인터페이스는 따라야 한다.



### 주석 (Comments)

주석이 긴 것은코드가 잘못된 것 일 수 있다.

주석 대신 함수로 코드를 읽히게 만드는게 좋다.